# STVcalc, an application for fetal STV calculation
The application reads binary fetal cardiotocography (CTG) files and calculates fetal heart rate short term variation (STV), the number of accellerations and of decellerations.
Currently this program works with binary files stored on a server using MOSOS CTG monitoring and archiving software (BMA health care solutions, Houten, the Netherlands) or with .prn files with a fetal heart rate (FHR) sample, uterine pressure and signal quality at 4 Hz (4 / second) per line.
The binary files contains data in 24 bytes sampled for each second from the CTG machine. The first 4 byte pairs contain FHR and signal quality from channel 1, the next 4 bytepairs for channel 2 (twin registration). Byte pair 10 contains 2 values of uterine pressure (sampled at 2 Hz). The last byte is an end of line code. Other byte pairs are reserved for other fetal or maternal information and use depends on addition of extra modules on the CTG machine (like blood pressure, maternal CTG or fetal oxygen saturation).
The application's design follows published documentation of the FetalCare system (Huntleigh Healthcare Ltd, Cardiff, UK) for STV calculation. Spyder (Python 3.6) ws used for development. A description of the application and comparison with the FetalCare system is in preparation.

For insatallation the application and the sample CTG files should be copied into the same folder. Python 3.6 should be installed with addition of the module pymsgbox. The other modules used are sys, pyqtgraph, and numpy, which will be available after normal installation of Python. After start of the progarm a file search window will open to select a CTG file. Buttons on top of the screen are available to deselect part of the CTG, to restore complete selection after deselection, to classify decelerations if available and to select a new CTG file. When he program is closed or a new CTG file is selected the daat are stored in a text file named STVexport, which will appear in the wirking folder.
A more extensive application is available on request, which opens CTG data from the MOSOS srver and stores results in a MsAccess file
